---
title: "Almond Analysis"
---

```{mermaid}
flowchart TD
    Data[(Climate Data:\nPrecip & Temp)]-->|Wrangle Data|Eq{Crop Model Equation}
    Eq --> Yield[Crop Yields:\nMin, Mean, Max]
```

```{r}
library(tidyverse)

climate_df <- read_table(here::here("3_almondyield", "data", "clim.txt")) |> 
    janitor::clean_names()
```

```{r}
source(here::here("3_almondyield", "almond_yield.R"))
source(here::here("3_almondyield", "crop_yield.R"))
```

```{r}
calculate_almond_yield(climate_df)
```

```{r}
calculate_crop_yield(climate_df, "wine grapes")
```